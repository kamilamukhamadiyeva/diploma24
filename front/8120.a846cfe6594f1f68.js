"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[8120],{38120:(P,f,r)=>{r.r(f),r.d(f,{FinanceModule:()=>X});var c=r(62510),h=r(4859),p=r(44850),m=r(97392),x=r(28255),b=r(73162),v=r(96308),i=r(30671),C=r(6205),y=r(44466),u=r(61135),w=r(77579),g=r(82722),F=r(39841),d=r(98739),e=r(94650),Z=r(69886),T=r(17009),k=r(25933),S=r(36895);function A(n,a){1&n&&e._UZ(0,"div",34)}function U(n,a){1&n&&(e.TgZ(0,"div",35),e._uU(1," \u0412\u0410\u0428 \u041a\u0410\u041d\u0414\u0418\u0414\u0410\u0422 "),e.qZA())}function B(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"h1",10),e._uU(2,"\u0412\u044b \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043b\u0438 \u0437\u0430 \u044d\u0442\u043e\u0433\u043e \u041a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430"),e.qZA(),e.TgZ(3,"div",23)(4,"div",24)(5,"div",25)(6,"div",26),e._uU(7),e.qZA(),e.TgZ(8,"div",27),e._uU(9),e.qZA()(),e.TgZ(10,"div",28),e.YNc(11,A,1,0,"div",29),e.YNc(12,U,2,0,"div",30),e.TgZ(13,"div",31)(14,"button",32),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.openRegDialog())}),e._uU(15," \u0418\u041d\u0424\u041e\u0420\u041c\u0410\u0426\u0418\u042f "),e.TgZ(16,"mat-icon",33),e._uU(17,"person"),e.qZA()()()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(7),e.AsE("\u0424\u0418\u041e: ",t.dataS.name," ",t.dataS.lastName,""),e.xp6(2),e.hij("\u041a\u0423\u0420\u0421: ",t.dataS.faculty,""),e.xp6(2),e.Q6J("ngIf",!t.currentUserVote),e.xp6(1),e.Q6J("ngIf",t.currentUserVote)}}function D(n,a){1&n&&(e.TgZ(0,"th",36),e._uU(1," Id "),e.qZA())}function N(n,a){if(1&n&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&n){const t=a.index;e.ekj("odd",t%2!=0),e.xp6(1),e.hij(" ",t+1," ")}}function Y(n,a){1&n&&(e.TgZ(0,"th",36),e._uU(1," \u0418\u043c\u044f "),e.qZA())}function R(n,a){if(1&n&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.ekj("odd",a.index%2!=0),e.xp6(1),e.hij(" ",t.candidateName," ")}}function E(n,a){1&n&&(e.TgZ(0,"th",36),e._uU(1," \u0424\u0430\u043c\u0438\u043b\u0438\u044f "),e.qZA())}function z(n,a){if(1&n&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.ekj("odd",a.index%2!=0),e.xp6(1),e.hij(" ",t.candidateLastName," ")}}function I(n,a){1&n&&(e.TgZ(0,"th",36),e._uU(1," \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u043b\u043e\u0441\u043e\u0432 "),e.qZA())}function Q(n,a){if(1&n&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.ekj("odd",a.index%2!=0),e.xp6(1),e.hij(" ",t.votesCount," ")}}function $(n,a){1&n&&e._UZ(0,"tr",38)}function j(n,a){1&n&&e._UZ(0,"tr",39)}const O=function(){return[5,10,20,50,100]};let L=(()=>{class n{constructor(t,o,l,s,G,H){this._activatedRoute=t,this._changeDetectorRef=o,this._router=l,this.dialogService=s,this._snackBar=G,this._academyService=H,this.displayedColumns=["id","name","lastName","totalVote"],this.size=5,this.page=0,this.currentUserVote=!1,this.errorOccurred=!0,this.filters={categorySlug$:new u.X("all"),query$:new u.X(""),hideCompleted$:new u.X(!1)},this._unsubscribeAll=new w.x}ngOnInit(){this._academyService.getFinalResult().subscribe(t=>{this.dataSource=new i.by(t),this.dataSource.paginator=this.paginator}),this._academyService.checkIfCurrentUserExists().subscribe(t=>{this.currentUserVote=t.isExist,this.errorOccurred=this.currentUserVote},t=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",t)}),this._academyService.getChoiceCandidates().subscribe(t=>{this.dataS=t}),this._academyService.categories$.pipe((0,g.R)(this._unsubscribeAll)).subscribe(t=>{this.categories=t,this._changeDetectorRef.markForCheck()}),this._academyService.courses$.pipe((0,g.R)(this._unsubscribeAll)).subscribe(t=>{this.courses=this.filteredCourses=t,this._changeDetectorRef.markForCheck()}),(0,F.a)([this.filters.categorySlug$,this.filters.query$,this.filters.hideCompleted$]).subscribe(([t,o,l])=>{this.filteredCourses=this.courses,"all"!==t&&(this.filteredCourses=this.filteredCourses.filter(s=>s.category===t)),""!==o&&(this.filteredCourses=this.filteredCourses.filter(s=>s.title.toLowerCase().includes(o.toLowerCase())||s.description.toLowerCase().includes(o.toLowerCase())||s.category.toLowerCase().includes(o.toLowerCase()))),l&&(this.filteredCourses=this.filteredCourses.filter(s=>0===s.progress.completed))})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}filterByQuery(t){this.filters.query$.next(t)}filterByCategory(t){this.filters.categorySlug$.next(t.value)}toggleCompleted(t){this.filters.hideCompleted$.next(t.checked)}trackByFn(t,o){return o.id||t}openRegDialog(){this.dialogService.openCandidateInfoModal()}voteForCandidate(t){this._academyService.voteForCandidate(t).subscribe(o=>{},o=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0433\u043e\u043b\u043e\u0441\u0430:",o),200===o.status?(this._snackBar.open("\u0413\u043e\u043b\u043e\u0441 \u0437\u0430 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0441\u0447\u0438\u0442\u0430\u043d.","\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:3e3}),window.location.reload()):this._snackBar.open("\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a.","\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:3e3})})}ngAfterViewInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(e.sBO),e.Y36(c.F0),e.Y36(Z.x),e.Y36(T.ux),e.Y36(k.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["finance"]],viewQuery:function(t,o){if(1&t&&e.Gf(d.NW,5),2&t){let l;e.iGM(l=e.CRH())&&(o.paginator=l.first)}},decls:31,vars:9,consts:[[1,"flex","flex-col","flex-auto","w-full"],[1,"relative","flex-0","py-8","px-4","sm:p-16","overflow-hidden","bg-gray-800","dark"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],[1,"z-10","relative","flex","flex-col","items-center"],[1,"text-3xl","font-bold","text-white"],[1,"mx-auto"],[4,"ngIf"],[1,"styled-header"],[1,"mx-auto","text-center","w-400","mb-10"],[1,"example-container","mat-elevation-z6"],["showFirstLastButtons","","aria-label","Select page of periodic elements",2,"justify-content","flex-end",3,"length","pageSize","pageSizeOptions","hidePageSize"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","class","table-header",4,"matHeaderCellDef"],["mat-cell","","class","table-cell",3,"odd",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","lastName"],["matColumnDef","totalVote"],["mat-header-row","","class","table-header-row",4,"matHeaderRowDef"],["mat-row","","class","table-row",4,"matRowDef","matRowDefColumns"],[1,"grid","grid-cols-1","sm:grid-cols-1","lg:grid-cols-1","gap-8","mt-8","sm:mt-10","w-200"],[1,"flex","flex-col","h-66","shadow-lg","rounded-2xl","overflow-hidden","bg-white","dark:bg-gray-800"],[1,"flex","flex-col","p-6"],[1,"mt-4","text-xl","font-semibold","text-gray-900","dark:text-gray-100","text-center"],[1,"mt-4","text-xl","font-semibold","text-gray-900","dark:text-gray-300","text-center"],[1,"flex","flex-col","w-full","mt-auto"],["class","px-6 py-4 bg-blue-500 dark:bg-blue-700",4,"ngIf"],["class","px-10 py-4 dark-bg-yellow text-center",4,"ngIf"],[1,"px-6","py-4","bg-gray-300","dark:bg-gray-700"],["mat-button","",1,"flex","items-center","justify-center","w-full","text-gray-800","dark:text-gray-200","transition","duration-300","ease-in-out","bg-gray-400","dark:bg-gray-600","hover:bg-gray-500","dark:hover:bg-gray-700","focus:outline-none","focus:ring","focus:ring-gray-200","dark:focus:ring-gray-400","rounded-full",3,"click"],[1,"ml-2"],[1,"px-6","py-4","bg-blue-500","dark:bg-blue-700"],[1,"px-10","py-4","dark-bg-yellow","text-center"],["mat-header-cell","",1,"table-header"],["mat-cell","",1,"table-cell"],["mat-header-row","",1,"table-header-row"],["mat-row","",1,"table-row"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.O4$(),e.TgZ(2,"svg",2)(3,"g",3),e._UZ(4,"circle",4)(5,"circle",5),e.qZA()(),e.kcU(),e.TgZ(6,"div",6)(7,"h1",7),e._uU(8,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"),e.qZA()()(),e.TgZ(9,"div",8),e.YNc(10,B,18,5,"ng-container",9),e.qZA(),e.TgZ(11,"h1",10),e._uU(12," \u0421\u043f\u0438\u0441\u043e\u043a \u041a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432 \u0441 \u043d\u0430\u0438\u0432\u044b\u0441\u0448\u0438\u043c\u0438 \u0411\u0430\u043b\u043b\u0430\u043c\u0438"),e.qZA(),e.TgZ(13,"div",11)(14,"div",12),e._UZ(15,"mat-paginator",13),e.TgZ(16,"table",14),e.ynx(17,15),e.YNc(18,D,2,0,"th",16),e.YNc(19,N,2,3,"td",17),e.BQk(),e.ynx(20,18),e.YNc(21,Y,2,0,"th",16),e.YNc(22,R,2,3,"td",17),e.BQk(),e.ynx(23,19),e.YNc(24,E,2,0,"th",16),e.YNc(25,z,2,3,"td",17),e.BQk(),e.ynx(26,20),e.YNc(27,I,2,0,"th",16),e.YNc(28,Q,2,3,"td",17),e.BQk(),e.YNc(29,$,1,0,"tr",21),e.YNc(30,j,1,0,"tr",22),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("ngIf",o.errorOccurred),e.xp6(5),e.Q6J("length",o.total)("pageSize",o.size)("pageSizeOptions",e.DdM(8,O))("hidePageSize",!1),e.xp6(1),e.Q6J("dataSource",o.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[h.lW,m.Hw,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,S.O5,d.NW],styles:['@charset "UTF-8";.mat-row .mat-cell{cursor:pointer}.table{border-collapse:separate;border-spacing:0}th:after,th:before{content:"";position:absolute;left:0;width:100%}th:after{bottom:-1px}th.mat-header-cell,td.mat-cell{border-right-width:1px;padding-left:.5rem;padding-right:.5rem}.filter-col ::ng-deep .mat-form-field-wrapper{margin-bottom:8px!important}::-webkit-scrollbar{width:12px;height:12px;background-color:#0000}::-webkit-scrollbar:hover{width:12px;height:12px;background-color:#0000000f}::-webkit-scrollbar-thumb{border:2px solid transparent;border-radius:20px;box-shadow:inset 0 0 0 20px #0000003d}::-webkit-scrollbar-thumb:active{border-radius:20px;box-shadow:inset 0 0 0 20px #0000005e}.dark ::-webkit-scrollbar-thumb{box-shadow:inset 0 0 0 20px #ffffff3d}.dark ::-webkit-scrollbar-thumb:active{box-shadow:inset 0 0 0 20px #ffffff5e}.mat-row.odd{background-color:#f9f9f9!important}.mat-cell .flex.flex-row.round button{margin-left:5px!important}.example-container{overflow-x:auto}.mat-table{width:100%;border-collapse:collapse;background-color:#fff}.table-header,.table-cell{padding:12px 24px;font-weight:700;text-align:left}.table-header{background-color:#f3f3f3}.odd{background-color:#f9f9f9}.table-row:hover{background-color:#f1f1f1}.styled-header{text-align:center;font-size:22px;font-weight:700;margin-top:5rem;margin-bottom:2rem;color:#333}\n'],encapsulation:2,changeDetection:0}),n})();var _=r(18505),J=r(80529);let M=(()=>{class n{constructor(t){this._httpClient=t,this._data=new u.X(null)}get data$(){return this._data.asObservable()}getData(){return this._httpClient.get("api/dashboards/finance").pipe((0,_.b)(t=>{this._data.next(t)}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(J.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const V=[{path:"",component:L,resolve:{data:(()=>{class n{constructor(t){this._financeService=t}resolve(t,o){return this._financeService.getData()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(M))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}];let X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.Bz.forChild(V),h.ot,p.t,m.Ps,x.Tx,b.Cv,v.JX,i.p0,C.X,y.m,d.TU]}),n})()}}]);