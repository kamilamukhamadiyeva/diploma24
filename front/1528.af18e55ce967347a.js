"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[1528],{1528:(S,r,l)=>{l.r(r),l.d(r,{AnalyticsModule:()=>F});var n=l(62510),c=l(4859),h=l(90811),f=l(44850),g=l(97392),v=l(28255),m=l(73162),p=l(96308),y=l(30671),x=l(10266),b=l(6205),A=l(44466),Z=l(77579),w=l(82722),t=l(94650),C=l(61135),U=l(18505),k=l(80529);let u=(()=>{class s{constructor(e){this._httpClient=e,this.baseUrl="http://localhost:8070",this._data=new C.X(null)}get data$(){return this._data.asObservable()}getData(){return this._httpClient.get("api/dashboards/analytics").pipe((0,U.b)(e=>{this._data.next(e)}))}getStatistics(){return this._httpClient.get(`${this.baseUrl}/student/statistics`)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(k.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const T=[{path:"",component:(()=>{class s{constructor(e,i){this._analyticsService=e,this._router=i,this._unsubscribeAll=new Z.x}ngOnInit(){this._analyticsService.getStatistics().subscribe(e=>{this.statistic=e,console.log("statistic",e),this.female=e.female}),this._analyticsService.data$.pipe((0,w.R)(this._unsubscribeAll)).subscribe(e=>{this.data=e,this._prepareChartData()}),window.Apex={chart:{events:{mounted:(e,i)=>{this._fixSvgFill(e.el)},updated:(e,i)=>{this._fixSvgFill(e.el)}}}}}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}trackByFn(e,i){return i.id||e}_fixSvgFill(e){const i=this._router.url;Array.from(e.querySelectorAll("*[fill]")).filter(o=>-1!==o.getAttribute("fill").indexOf("url(")).forEach(o=>{const d=o.getAttribute("fill");o.setAttribute("fill",`url(${i}${d.slice(d.indexOf("#"))}`)})}_prepareChartData(){this.chartVisitors={chart:{animations:{speed:400,animateGradually:{enabled:!1}},fontFamily:"inherit",foreColor:"inherit",width:"100%",height:"100%",type:"area",toolbar:{show:!1},zoom:{enabled:!1}},colors:["#818CF8"],dataLabels:{enabled:!1},fill:{colors:["#312E81"]},grid:{show:!0,borderColor:"#334155",padding:{top:10,bottom:-40,left:0,right:0},position:"back",xaxis:{lines:{show:!0}}},series:this.data.visitors.series,stroke:{width:2},tooltip:{followCursor:!0,theme:"dark",x:{format:"MMM dd, yyyy"},y:{formatter:e=>`${e}`}},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{stroke:{color:"#475569",dashArray:0,width:2}},labels:{offsetY:-20,style:{colors:"#CBD5E1"}},tickAmount:20,tooltip:{enabled:!1},type:"datetime"},yaxis:{axisTicks:{show:!1},axisBorder:{show:!1},min:e=>e-750,max:e=>e+250,tickAmount:5,show:!1}},this.chartConversions={chart:{animations:{enabled:!1},fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"area",sparkline:{enabled:!0}},colors:["#38BDF8"],fill:{colors:["#38BDF8"],opacity:.5},series:this.data.conversions.series,stroke:{curve:"smooth"},tooltip:{followCursor:!0,theme:"dark"},xaxis:{type:"category",categories:this.data.conversions.labels},yaxis:{labels:{formatter:e=>e.toString()}}},this.chartImpressions={chart:{animations:{enabled:!1},fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"area",sparkline:{enabled:!0}},colors:["#34D399"],fill:{colors:["#34D399"],opacity:.5},series:this.data.impressions.series,stroke:{curve:"smooth"},tooltip:{followCursor:!0,theme:"dark"},xaxis:{type:"category",categories:this.data.impressions.labels},yaxis:{labels:{formatter:e=>e.toString()}}},this.chartVisits={chart:{animations:{enabled:!1},fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"area",sparkline:{enabled:!0}},colors:["#FB7185"],fill:{colors:["#FB7185"],opacity:.5},series:this.data.visits.series,stroke:{curve:"smooth"},tooltip:{followCursor:!0,theme:"dark"},xaxis:{type:"category",categories:this.data.visits.labels},yaxis:{labels:{formatter:e=>e.toString()}}},this.chartVisitorsVsPageViews={chart:{animations:{enabled:!1},fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"area",toolbar:{show:!1},zoom:{enabled:!1}},colors:["#64748B","#94A3B8"],dataLabels:{enabled:!1},fill:{colors:["#64748B","#94A3B8"],opacity:.5},grid:{show:!1,padding:{bottom:-40,left:0,right:0}},legend:{show:!1},series:this.data.visitorsVsPageViews.series,stroke:{curve:"smooth",width:2},tooltip:{followCursor:!0,theme:"dark",x:{format:"MMM dd, yyyy"}},xaxis:{axisBorder:{show:!1},labels:{offsetY:-20,rotate:0,style:{colors:"var(--fuse-text-secondary)"}},tickAmount:3,tooltip:{enabled:!1},type:"datetime"},yaxis:{labels:{style:{colors:"var(--fuse-text-secondary)"}},max:e=>e+250,min:e=>e-250,show:!1,tickAmount:5}},this.chartNewVsReturning={chart:{animations:{speed:400,animateGradually:{enabled:!1}},fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"donut",sparkline:{enabled:!0}},colors:["#3182CE","#63B3ED"],labels:this.data.newVsReturning.labels,plotOptions:{pie:{customScale:.9,expandOnClick:!1,donut:{size:"70%"}}},series:this.data.newVsReturning.series,states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{enabled:!0,fillSeriesColor:!1,theme:"dark",custom:({seriesIndex:e,w:i})=>`<div class="flex items-center h-8 min-h-8 max-h-8 px-3">\n                                                    <div class="w-3 h-3 rounded-full" style="background-color: ${i.config.colors[e]};"></div>\n                                                    <div class="ml-2 text-md leading-none">${i.config.labels[e]}:</div>\n                                                    <div class="ml-2 text-md font-bold leading-none">${i.config.series[e]}%</div>\n                                                </div>`}},this.chartGender={chart:{animations:{speed:400,animateGradually:{enabled:!1}},fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"donut",sparkline:{enabled:!0}},colors:["#319795","#4FD1C5"],labels:this.data.gender.labels,plotOptions:{pie:{customScale:.9,expandOnClick:!1,donut:{size:"70%"}}},series:this.data.gender.series,states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{enabled:!0,fillSeriesColor:!1,theme:"dark",custom:({seriesIndex:e,w:i})=>`<div class="flex items-center h-8 min-h-8 max-h-8 px-3">\n                                                     <div class="w-3 h-3 rounded-full" style="background-color: ${i.config.colors[e]};"></div>\n                                                     <div class="ml-2 text-md leading-none">${i.config.labels[e]}:</div>\n                                                     <div class="ml-2 text-md font-bold leading-none">${i.config.series[e]}%</div>\n                                                 </div>`}},this.chartAge={chart:{animations:{speed:400,animateGradually:{enabled:!1}},fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"donut",sparkline:{enabled:!0}},colors:["#DD6B20","#F6AD55"],labels:this.data.age.labels,plotOptions:{pie:{customScale:.9,expandOnClick:!1,donut:{size:"70%"}}},series:this.data.age.series,states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{enabled:!0,fillSeriesColor:!1,theme:"dark",custom:({seriesIndex:e,w:i})=>`<div class="flex items-center h-8 min-h-8 max-h-8 px-3">\n                                                    <div class="w-3 h-3 rounded-full" style="background-color: ${i.config.colors[e]};"></div>\n                                                    <div class="ml-2 text-md leading-none">${i.config.labels[e]}:</div>\n                                                    <div class="ml-2 text-md font-bold leading-none">${i.config.series[e]}%</div>\n                                                </div>`}},this.chartLanguage={chart:{animations:{speed:400,animateGradually:{enabled:!1}},fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"donut",sparkline:{enabled:!0}},colors:["#805AD5","#B794F4"],labels:this.data.language.labels,plotOptions:{pie:{customScale:.9,expandOnClick:!1,donut:{size:"70%"}}},series:this.data.language.series,states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{enabled:!0,fillSeriesColor:!1,theme:"dark",custom:({seriesIndex:e,w:i})=>`<div class="flex items-center h-8 min-h-8 max-h-8 px-3">\n                                                    <div class="w-3 h-3 rounded-full" style="background-color: ${i.config.colors[e]};"></div>\n                                                    <div class="ml-2 text-md leading-none">${i.config.labels[e]}:</div>\n                                                    <div class="ml-2 text-md font-bold leading-none">${i.config.series[e]}%</div>\n                                                </div>`}}}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(u),t.Y36(n.F0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["analytics"]],decls:83,vars:9,consts:[[1,"flex","flex-col","flex-auto","w-full"],[1,"relative","flex-0","py-8","px-4","sm:p-16","overflow-hidden","bg-gray-800","dark"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],[1,"z-10","relative","flex","flex-col","items-center"],[1,"text-3xl","font-bold","text-white"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-8","w-full","mt-8"],[1,"sm:col-span-2","lg:col-span-1","flex","flex-col","flex-auto","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"flex","items-start","justify-between","m-6","mb-0"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"ml-2"],[1,"flex","flex-col","lg:flex-row","lg:items-center","mx-6","mt-3"],[1,"text-7xl","font-bold","tracking-tighter","leading-tight"],[1,"w-full","mt-12"],[1,"text-2xl","font-semibold","tracking-tight","leading-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-8","w-full","mt-6","md:mt-8"],[1,"flex","flex-col","flex-auto","bg-white","shadow","rounded-2xl","overflow-hidden","p-6"],[1,"text-2xl","font-semibold","tracking-tight","leading-6","mb-4"],[1,"grid","grid-cols-2","gap-4"],[1,"flex","items-center"],[1,"w-12","h-12","rounded-full","bg-pink-500","mr-4"],[1,"font-medium","text-lg"],[1,"ml-auto","text-xl"],[1,"w-12","h-12","rounded-full","bg-blue-500","mr-4"],[1,"flex","flex-col","flex-auto","bg-white","shadow","rounded-2xl","overflow-hidden","p-6","w-256"],[1,"w-8","h-8","rounded-full","bg-yellow-500","mr-4"],[1,"w-8","h-8","rounded-full","bg-green-500","mr-4"],[1,"w-8","h-8","rounded-full","bg-purple-500","mr-4"],[1,"w-8","h-8","rounded-full","bg-red-500","mr-4"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.O4$(),t.TgZ(2,"svg",2)(3,"g",3),t._UZ(4,"circle",4)(5,"circle",5),t.qZA()(),t.kcU(),t.TgZ(6,"div",6)(7,"h1",7),t._uU(8,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),t.qZA()()(),t.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12),t._uU(14,"\u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432"),t.qZA(),t._UZ(15,"div",13),t.qZA(),t.TgZ(16,"div",14)(17,"div",15),t._uU(18),t.qZA()()(),t.TgZ(19,"div",10)(20,"div",11)(21,"div",12),t._uU(22,"\u0412\u0441\u0435\u0433\u043e \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0432\u0448\u0438\u0445"),t.qZA(),t._UZ(23,"div",13),t.qZA(),t.TgZ(24,"div",14)(25,"div",15),t._uU(26),t.qZA()()(),t.TgZ(27,"div",10)(28,"div",11)(29,"div",12),t._uU(30,"\u0412\u0441\u0435\u0433\u043e \u041a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432"),t.qZA(),t._UZ(31,"div",13),t.qZA(),t.TgZ(32,"div",14)(33,"div",15),t._uU(34),t.qZA()()()(),t.TgZ(35,"div",16)(36,"div",17),t._uU(37,"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f"),t.qZA()(),t.TgZ(38,"div",18)(39,"div",19)(40,"div",20),t._uU(41,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u043f\u043e\u043b\u0443"),t.qZA(),t.TgZ(42,"div",21)(43,"div",22),t._UZ(44,"div",23),t.TgZ(45,"div",24),t._uU(46,"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"),t.qZA(),t.TgZ(47,"div",25),t._uU(48),t.qZA()(),t.TgZ(49,"div",22),t._UZ(50,"div",26),t.TgZ(51,"div",24),t._uU(52,"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"),t.qZA(),t.TgZ(53,"div",25),t._uU(54),t.qZA()()()(),t.TgZ(55,"div",27)(56,"div",20),t._uU(57,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u043a\u0443\u0440\u0441\u0430\u043c"),t.qZA(),t.TgZ(58,"div",21)(59,"div",22),t._UZ(60,"div",28),t.TgZ(61,"div",24),t._uU(62,"1 \u043a\u0443\u0440\u0441"),t.qZA(),t.TgZ(63,"div",25),t._uU(64),t.qZA()(),t.TgZ(65,"div",22),t._UZ(66,"div",29),t.TgZ(67,"div",24),t._uU(68,"2 \u043a\u0443\u0440\u0441"),t.qZA(),t.TgZ(69,"div",25),t._uU(70),t.qZA()(),t.TgZ(71,"div",22),t._UZ(72,"div",30),t.TgZ(73,"div",24),t._uU(74,"3 \u043a\u0443\u0440\u0441"),t.qZA(),t.TgZ(75,"div",25),t._uU(76),t.qZA()(),t.TgZ(77,"div",22),t._UZ(78,"div",31),t.TgZ(79,"div",24),t._uU(80,"4 \u043a\u0443\u0440\u0441"),t.qZA(),t.TgZ(81,"div",25),t._uU(82),t.qZA()()()()()()()),2&e&&(t.xp6(18),t.Oqu(i.statistic.totalStudents),t.xp6(8),t.Oqu(i.statistic.voters),t.xp6(8),t.Oqu(i.statistic.totalCandidates),t.xp6(14),t.Oqu(i.statistic.female),t.xp6(6),t.Oqu(i.statistic.male),t.xp6(10),t.Oqu(i.statistic.oneCourse),t.xp6(6),t.Oqu(i.statistic.twoCourse),t.xp6(6),t.Oqu(i.statistic.threeCourse),t.xp6(6),t.Oqu(i.statistic.fourCourse))},styles:['@charset "UTF-8";.gender-icon{background-color:#fc63a8;width:12px;height:12px;margin-right:16px;background-color:#2196f3}\n'],encapsulation:2,changeDetection:0}),s})(),resolve:{data:(()=>{class s{constructor(e){this._analyticsService=e}resolve(e,i){return this._analyticsService.getData()}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(u))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}];let F=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[n.Bz.forChild(T),c.ot,h.vV,f.t,g.Ps,v.Tx,m.Cv,p.JX,y.p0,x.AV,b.X,A.m]}),s})()}}]);